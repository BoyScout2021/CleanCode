# 경계

시스템에 들어가는 모든 소프트웨어를 직접 개발하는 경우는 드물다.

외부에서 작성한 코드를 사용하는 경우가 많은데, 이 때 외부 코드를 우리 코드에 깔끔하게 통합해야 한다.

소프트웨어 경계를 깔끔하게 처리하는 기법

## 필요한 인터페이스만 노출시키도록 감싸는 객체 만들기

패키지, 프레임워크 제공자는 최대한 많은 환경에서 사용가능하도록 적용성을 최대한 넓히려함

반면 사용자는 자신의 환경에 맞는 인터페이스를 바람

이러한 차이 때문에 시스템의 경계에서 문제가 생김



패키지, 프레임워크가 제공하는 모든 인터페이스를 드러내기 보단, 한 단계 래핑하는 객체를 만들어 클라이언트단에서 필요로 하는 인터페이스만 노출하도록 구현

필요한 인터페이스만 드러냈기에 코드의 이해도 쉬워지고, 의도에 맞지 않게 사용하는 일도 없어짐

## 학습 테스트

외부 코드를 가져와서 사용할 때, 사용법을 익히는데에도 많은 시간이 들고, 우리쪽 코드에 적용하여 버그가 발생했을 때, 우리쪽 코드의 문제인지, 외부 코드의 문제인지 디버깅하는데 많은 시간이 든다.

외부 코드를 사용하기 전, 외부 코드에 대한 테스트코드를 작성하여 사용법을 익히고 외부 코드가 정상적으로 동작한다는 것을 보장할 수 있음

학습 테스트를 작성해두면, 외부 코드의 새로운 버전이 나왔을 때도 기존에 작성된 학습 테스트를 통해 어떤 차이가 있는지 확인할 수 있음

외부코드의 새로운 버전에 대한 안전한 업데이트가 가능함, 학습 테스트가 없다면 기존 코드와의 호환성에 문제가 생길까봐 업데이트하지않고 예전 버전을 오랫동안 사용하게 됨

## 아직 존재하지 않는 코드를 사용하기

아직 사용할 외부 코드가 구현되기 전이라면, 자체적으로 현재 필요한 기능에 대한 인터페이스를 정의하고 그 인터페이스에 맞춰서 구현

외부 코드가 구현된 후 어댑터 패턴을 활용해 정의한 인터페이스에 맞게 변환

애초에 외부 코드가 구현되지 않은 상태에서 인터페이스를 정의하므로, 철저히 외부코드와 분리된 형태의 구조를 짤 수 있음

## 깨끗한 경계

잘 설계된 소프트웨어는 변경하는데 많은 리소스가 들지 않음

통제하지 못하는 외부 코드를 사용할 때는 추후 변경에 리소스가 많이 들지 않도록 주의해야 함

외부 코드와의 의존성을 최대한 줄여야 함

