# 10장 클래스

## 클레스 체계

클래스를 정의 하는 자바 관례

1. 변수 목록
   1. public
   2. private
2. 메소드
   1. public
   2. private 메소드는 자신을 호출하는 메소드 직후

추상화 단계가 순차적으로 내려가기 때문에 읽기 쉽다.

변수와 메소드를 숨겨야한다는 법칙은 없지만, 캡슐화를 풀어주는 결정은 언제나 최후의 수단이다

<br>

## 클래스는 작아야 한다

 클래스를 만들 때 첫 번째 규칙은 작아야한다, 두 번째 규칙도 작아야한다, 세 번째 규칙도 작아야한다. 메소드는 물리적인 행 수로 크기를 측정했다면, 클래시는 클래스가 맡은 책임을 기준으로 측정한다.

클래스 이름은 해당 클래스 책임을 기술해야한다. 

* 이름을 정하기 어렵다면 클래스가 너무 크거나 책임이 너무 많아서이다.
* ~~Manager, Processor, Super~~
* ~~if, and, or, but~~

<br>

### 단일 책임 원칙(Single Responsibility Principle)

클래스나 모듈을 변경할 이유가 단 하나여야 한다는 원칙이다. SRP는 책임, 즉 변경할 이유가 하나여야만 한다는 뜻이다.

SRP는 객체 지향 설계에서 정말 중요한 개념이며, 이해하고 지키기 수월한 개념이다. 하지만 오히려 가장 무시하는 개념이기도 하다.

소프트웨어를 깨끗하게 만드는 활동과 소프트웨어를 돌아가게 만드는 행동은 별개이기 때문이다. 프로그램이 돌아가면 일이 끝났다고 여기고, `깨끗하고 체계적인 소프트웨어`라는 다음 관심사로 전환하지 않는다.

게다가 많은 개발자는 자잘한 단일 책임 클래스가 많아지면 큰 그림을 이해하기 어려워진다고 우려한다.(큰 그림을 이해하려면 이 클래스 저 클래스 옮겨 다녀야 하기 때문에)

하지만 이 생각은 `큰 서랍에 물건을 구분 없이 전부 넣는 것`과 `작은 서랍 여러개에 역할별로 나누는 것`을 생각해보면 답이 나온다.

**`한번 더 강조하자면 작은 클래스는 각자 맡은 책임이 하나며, 변경할 이유가 하나이다!`**

<br>

### 응집도

클래스는 인스턴스 변수가 적어야한다. 각 클래스 메소드는 클래스 인스턴스 변수를 하나 이상 사용해야 한다. 모든 인스턴스 변수를 메소드마다 사용하는 클래스는 응집도가 높다.

이처럼 응집도가 높은 클래슨느 가능하지도 바람직하지도 않지만, 우리는 응집도가 높은 클래스를 선호한다. - 클래스에 속한 메소드와 변수가 서로 의존하며 논리적인 단위로 묶인다는 의미.

<br>

### 응집도를 유지하면 작은 클래스 여럿이 나온다.

큰 메소드를 작은 메소드로 나누자. 그런데 큰 메소드에서 사용하던 메소드 변수를 작은 메소드의 매개변수로 넘겨야한다면, 인스턴스 변수로 승격시키자. 이 작업을 수행한다면 응집력을 잃지만, 반대로 더 작은 클래스로 분리할 수 있게 된다. 즉 응집력이 높은 여러개의 작은 클래스가 생기는 것이다.

<br>

## 변경하기 쉬운 클래스

#### 변경으로부터 격리

상세한 구현에 의존하는 클라이언트 클래스는 하위 클래스의 구현이 바뀌면 위험에 빠진다. 따라서 우리는 인터페이스와 추상클래스를 사용해 구현이 미치는 영향을 격리한다. 즉 결합도를 낮춘다.

결합도를 낮추면 유연성과 재사용성도 더욱 높아진다. 결합도가 낮다는 소리는 각 시스템 요소가 다른 요소로부터, 변경으로부터 잘 격리되어 있다는 의미이다.

결합도를 줄이면 자연스럽게 `DIP(Dependencty Inversion Principle)`을 따르게 된다.