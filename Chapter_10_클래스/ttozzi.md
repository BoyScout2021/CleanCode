# 클래스

## 클래스 체계

### 클래스를 정의하는 표준 자바 관례

- 변수 목록
  - 정적 상수
  - 공개 상수
  - 정적 비공개 변수
  - 비공개 인스턴스 변수
  - 공개 변수는 거의 사용하지 않음
- 함수
  - 공개 함수
  - 비공개 함수(자신을 호출하는 공개 함수 직후)
  - 추상화 단계 순서대로 작성

### 캡슐화

- 외부에서의 접근이 필요없는 변수, 유틸리티 함수는 가능한 공개하지 않아야 한다.
  - 아주 예외적인 경우(테스트를 위해) 공개하기도 하지만 가급적이면 비공개 상태를 유지해야 함

### 클래스의 크기

- 클래스는 작아야 한다.
- 하나의 책임만 갖도록 구현
- 클래스를 만들 때 간결한 클래스의 이름이 떠오르지 않는다면, 그 클래스가 여러 책임을 맡고 있을 가능성이 높다.
- 클래스의 역할을 설명할 때 만일(if), 그리고(and), -(하)며(or), 하지만(but)을 사용하지 않고 25단어 내외로 설명이 가능해야 함

### 단일 책임 원칙(SRP)

- 클래스나 모듈을 변경할 이유가 단 하나뿐이어야 함
- `돌아가는 소프트웨어` 보단 `깨끗하고 체계적인 소프트웨어` 를 만드는 것에 초첨을 둬야 함
- 관심사의 분리
- 규모가 큰 시스템은 논리가 많고 복잡한데, 이런 복잡성을 다루려면 체계적인 정리가 필수
- 큰 클래스 몇 개보다 작은 클래스 여럿으로 이루어진 시스템을 만들어야 한다.

### 응집도

- 인스턴스 변수 수가 작아야 한다.
- 각 메서드는 인스턴스 변수를 하나 이상 사용해야 하며, 일반적으로 메서드가 변수를 더 많이 사용 할수록 클래스의 응집도가 높다.
- 응집도가 높다 -> 클래스가 속한 메서드와 변수가 서로 의존하며 논리적인 단위로 묶여있다.
- 몇몇 특정 메서드만이 사용하는 인스턴수 변수가 많다면, 새로운 클래스로 쪼개야 한다는 신호
- 응집도를 신경쓰면서, 큰 함수를 작은 함수로 쪼개다보면 자연스럽게 클래스도 쪼갤 수 있다.

### 변경하기 쉬운 클래스

- 대다수 시스템은 지속적인 변경이 가해지며, 변경할 때마다 시스템이 의도대로 동작하지 않을 위험이 따른다.
- 새 기능을 수정하거나 기존 기능을 변경할 때 건드릴 코드가 최소인 시스템 구조로 구현하여야 한다.
- 상세한 구현에 의존하는 클래스를 사용하기보단, 인터페이스를 사용해 해당 클래스를 사용하는 부분과 상세 구현을 분리해야 한다.
- 인터페이스를 활용하면 테스트를 위한 모의 클래스를 만들 수 있어 테스트하기에도 용이하다.
- 테스트가 가능할 정도로 시스템의 결합도를 낮추면 유연성과 재사용성도 높아진다.
- 의존 역전 원칙(DIP)

